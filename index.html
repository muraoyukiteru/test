<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>3Ã—3 Image Sheet â€“ A4 / 63Ã—88mm / Guide</title>
  <style>
    :root{
      --gap: 0mm; /* æŒ‡å®š: ç”»åƒã®é–“ã¯ç©ºç™½ãªã— */
      --cell-w: 63mm;
      --cell-h: 88mm;
      --grid-w: calc(var(--cell-w) * 3);
      --grid-h: calc(var(--cell-h) * 3);
    }
    *{ box-sizing: border-box; }
    html,body{ height:100%; margin:0; }
    body{
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Hiragino Kaku Gothic ProN", "Noto Sans JP", "Yu Gothic UI", "Meiryo", sans-serif;
      background: #f5f7fb;
      color: #111;
    }
    header{ position:sticky; top:0; z-index:10; background:#fff; border-bottom:1px solid #e5e7eb; }
    .toolbar{ max-width:1100px; margin:0 auto; padding:10px 16px; display:flex; flex-wrap:wrap; gap:10px; align-items:center; }
    .btn{ appearance:none; background:#111; color:#fff; border:none; padding:10px 14px; border-radius:10px; font-weight:600; cursor:pointer; }
    .btn.secondary{ background:#e5e7eb; color:#111; }
    .field{ display:flex; align-items:center; gap:8px; padding:6px 10px; background:#fff; border:1px solid #e5e7eb; border-radius:10px; }
    .field input[type="text"]{ width:420px; max-width:70vw; }

    main{ max-width:1100px; margin:18px auto 60px; padding:0 16px; }

    /* A4è¡¨ç¤º: 210mm Ã— 297mm æ¯”ç‡ã€‚ç”»é¢ã§ã¯æ¯”ç‡ç¶­æŒã€å°åˆ·æ™‚ã¯å®Ÿå¯¸ã€‚ */
    .a4-wrap{ display:grid; place-items:center; }
    .a4{ width:min(96vw, calc(96vh * (210/297))); aspect-ratio:210/297; background:#fff; box-shadow:0 10px 30px rgba(0,0,0,.08); border-radius:6px; position:relative; overflow:hidden; }

    /* 3x3ã‚°ãƒªãƒƒãƒ‰ï¼ˆä¸­å¤®é…ç½®ã€ç·šãªã—ã€éš™é–“ãªã—ï¼‰ */
    .sheet{ position:absolute; left:50%; top:50%; width:var(--grid-w); height:var(--grid-h); transform:translate(-50%, -50%); display:grid; grid-template-columns: repeat(3, var(--cell-w)); grid-template-rows: repeat(3, var(--cell-h)); gap: var(--gap); }
    .cell{ width:var(--cell-w); height:var(--cell-h); background:#fff; overflow:hidden; }
    .cell img{ width:100%; height:100%; display:block; object-fit:contain; background:#fff; }

    /* å‘¨å›²ã®ã‚¬ã‚¤ãƒ‰ç·šï¼ˆç‚¹ç·šï¼‰ */
    .sheet::before{ content:""; position:absolute; inset:0; border:1.2pt dashed #111; pointer-events:none; }

    footer{ text-align:center; color:#6b7280; font-size:12px; padding:24px; }

    /* å°åˆ·ï¼ˆA4å®Ÿå¯¸ï¼‰ */
    @page { size: A4 portrait; margin: 0; }
    @media print{
      body{ background:#fff; }
      header, footer{ display:none; }
      .a4{ width:210mm; height:297mm; box-shadow:none; border-radius:0; }
    }
  </style>
</head>
<body>
  <header>
    <div class="toolbar" role="toolbar" aria-label="Controls">
      <button class="btn" id="applyBtn">9å€‹ã®URLã‚’åæ˜ </button>
      <button class="btn secondary" id="sampleBtn">ã‚µãƒ³ãƒ—ãƒ«URLã‚’å…¥ã‚Œã‚‹</button>
      <label class="field" title="ç”»åƒã®ãƒ•ã‚£ãƒƒãƒˆæ–¹æ³•">
        <span>ãƒ•ã‚£ãƒƒãƒˆ:</span>
        <select id="fitMode">
          <option value="contain" selected>ä½™ç™½å„ªå…ˆï¼ˆåˆ‡ã‚ŠæŠœããªã—ï¼‰</option>
          <option value="cover">å…¨é¢å„ªå…ˆï¼ˆã¯ã¿å‡ºã—ã‚«ãƒƒãƒˆï¼‰</option>
        </select>
      </label>
      <button class="btn" onclick="window.print()">ğŸ–¨ï¸ å°åˆ·</button>
    </div>
  </header>

  <main>
    <section style="display:grid; gap:8px; margin-bottom:14px;">
      <details open>
        <summary style="cursor:pointer; font-weight:700;">ç”»åƒURLï¼ˆ9å€‹ãƒ»JPEGæ¨å¥¨ï¼‰</summary>
        <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap:8px; margin-top:10px;">
          <input class="url" type="url" placeholder="URL 1" />
          <input class="url" type="url" placeholder="URL 2" />
          <input class="url" type="url" placeholder="URL 3" />
          <input class="url" type="url" placeholder="URL 4" />
          <input class="url" type="url" placeholder="URL 5" />
          <input class="url" type="url" placeholder="URL 6" />
          <input class="url" type="url" placeholder="URL 7" />
          <input class="url" type="url" placeholder="URL 8" />
          <input class="url" type="url" placeholder="URL 9" />
        </div>
        <div style="display:flex; gap:8px; align-items:center; margin-top:8px;">
          <label class="field" style="flex:1 1 auto;">
            <span>ã¾ã¨ã‚è²¼ã‚Šä»˜ã‘</span>
            <input id="bulk" type="text" placeholder="9è¡Œã§è²¼ã‚Šä»˜ã‘ï¼ˆæ”¹è¡ŒåŒºåˆ‡ã‚Šï¼‰" />
          </label>
          <button class="btn secondary" id="bulkApply">åˆ†é…</button>
        </div>
        <p style="margin:6px 0 0; font-size:12px; color:#6b7280;">â€» 63Ã—88mm ã®æ ã«ç­‰å€ã§å…¥ã‚Œã¾ã™ã€‚æ—¢å®šã¯ã€Œåˆ‡ã‚ŠæŠœããªã—ï¼ˆä½™ç™½ã‚ã‚Šï¼‰ã€ã§ã™ã€‚ç”»åƒã®é–“éš”ã¯ 0mmã€æ ç·šã¯ç„¡ã—ã€‚å¤–å‘¨ã«ç‚¹ç·šã®ã‚¬ã‚¤ãƒ‰ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚</p>
      </details>
    </section>

    <div class="a4-wrap">
      <div class="a4">
        <div id="sheet" class="sheet" aria-label="3x3 image grid">
          <!-- 9 cells -->
          <div class="cell"><img alt="1" /></div>
          <div class="cell"><img alt="2" /></div>
          <div class="cell"><img alt="3" /></div>
          <div class="cell"><img alt="4" /></div>
          <div class="cell"><img alt="5" /></div>
          <div class="cell"><img alt="6" /></div>
          <div class="cell"><img alt="7" /></div>
          <div class="cell"><img alt="8" /></div>
          <div class="cell"><img alt="9" /></div>
        </div>
      </div>
    </div>
  </main>

  <footer>
    èƒŒæ™¯ã¯ç™½ã®A4ã€‚3Ã—3ã‚°ãƒªãƒƒãƒ‰ï¼ˆ63Ã—88mmï¼‰ã‚’ä¸­å¤®é…ç½®ã€‚å¤–å‘¨ã®ã¿ç‚¹ç·šã‚¬ã‚¤ãƒ‰ã€‚å°åˆ·ã¯ä½™ç™½0æ¨å¥¨ã€‚
  </footer>

  <script>
    const SHEET = document.getElementById('sheet');
    const URL_INPUTS = Array.from(document.querySelectorAll('input.url'));
    const APPLY = document.getElementById('applyBtn');
    const SAMPLE = document.getElementById('sampleBtn');
    const BULK = document.getElementById('bulk');
    const BULK_APPLY = document.getElementById('bulkApply');
    const FIT = document.getElementById('fitMode');

    function applyFit(){
      SHEET.querySelectorAll('img').forEach(img=>{ img.style.objectFit = FIT.value; });
    }

    FIT.addEventListener('change', applyFit);

    function setImages(urls){
      const imgs = SHEET.querySelectorAll('img');
      imgs.forEach((img,i)=>{
        const u = urls[i] || '';
        img.src = u;
      });
    }

    APPLY.addEventListener('click', ()=>{
      const urls = URL_INPUTS.map(i=>i.value.trim());
      if (urls.filter(Boolean).length !== 9) {
        if (!confirm('9å€‹ã™ã¹ã¦ã®URLãŒåŸ‹ã¾ã£ã¦ã„ã¾ã›ã‚“ã€‚ç©ºæ¬„ã¯è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã€‚ç¶šè¡Œã—ã¾ã™ã‹ï¼Ÿ')) return;
      }
      setImages(urls);
    });

    BULK_APPLY.addEventListener('click', ()=>{
      const lines = BULK.value.split(/\n|\r/).map(s=>s.trim()).filter(Boolean);
      for(let i=0;i<URL_INPUTS.length;i++){
        URL_INPUTS[i].value = lines[i] || URL_INPUTS[i].value;
      }
    });

    SAMPLE.addEventListener('click', ()=>{
      const sample = [
        'https://www.pokemon-card.com/assets/images/card_images/large/SV10/047394_P_KUNUGIDAMA.jpg',
        'https://www.pokemon-card.com/assets/images/card_images/large/SV10/047393_P_BAKUFOON.jpg',
        'https://www.pokemon-card.com/assets/images/card_images/large/SV10/047392_P_HINOARASHI.jpg',
        'https://www.pokemon-card.com/assets/images/card_images/large/SV10/047394_P_KUNUGIDAMA.jpg',
        'https://www.pokemon-card.com/assets/images/card_images/large/SV10/047393_P_BAKUFOON.jpg',
        'https://www.pokemon-card.com/assets/images/card_images/large/SV10/047392_P_HINOARASHI.jpg',
        'https://www.pokemon-card.com/assets/images/card_images/large/SV10/047394_P_KUNUGIDAMA.jpg',
        'https://www.pokemon-card.com/assets/images/card_images/large/SV10/047393_P_BAKUFOON.jpg',
        'https://www.pokemon-card.com/assets/images/card_images/large/SV10/047392_P_HINOARASHI.jpg',
      ];
      URL_INPUTS.forEach((inp,i)=> inp.value = sample[i] || '');
      setImages(sample);
    });

    // åˆæœŸçŠ¶æ…‹: ãƒ•ã‚£ãƒƒãƒˆé©ç”¨
    applyFit();
  </script>
</body>
</html>
